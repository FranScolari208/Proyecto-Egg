<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="ie=edge" http-equiv="X-UA-Compatible" />
    <meta content="Nutrividas" name="Grupo7" />
    <title>Nutividas - Signup</title>

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/signup.css}">
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" th:href="@{/img/favicon.ico}" />
    <link th:href="@{/img/favicon.ico}" rel="apple-touch-icon">

    <!-- BOOTSTRAP 5.1.3-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader&family=Pacifico&family=Style+Script&display=swap"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/icofont/icofont.min.css}" rel="stylesheet">
    <link th:href="@{/boxicons/css/boxicons.min.css}" rel="stylesheet">
    <link th:href="@{/owl.carousel/assets/owl.carousel.min.css}" rel="stylesheet">
    <link th:href="@{/venobox/venobox.css}" rel="stylesheet">
    <link th:href="@{/aos/aos.css}" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link th:href="@{/css/style.css}" rel="stylesheet">

</head>

<body>

<!-- ======= Header ======= -->
<header id="header" class="fixed-top">
    <div class="container d-flex">

        <div class="logo">
            <a href="index.html"><img th:src="@{/img/logo.png}" alt="" class="img-fluid"></a>
        </div>

        <div class="logo mr-auto">
            <h2 class="text-light mt-0" style="color: #1bac91 !important;">&nbsp;Nutrividas</h2>
        </div>

        <nav class="nav-menu d-none d-lg-block">
            <ul>
                <li><a th:href="@{/}">Inicio</a></li>
                <li><a href="#">Contáctanos</a></li>

            </ul>
        </nav><!-- .nav-menu -->

    </div>
</header><!-- End Header -->

<section  class="signup-section">
    <div class="container-fluid">
        <div class="row no-gutter">

            <!-- Mensaje éxito y error -->
            <div th:if="${error != null} OR ${success != null}" th:classappend="${error != null} ? 'alert-danger' : 'alert-success'" class="alert alert-warning alert-dismissible fade show" role="alert">
                <i th:classappend="${error != null} ? 'fa-times-circle' : 'fa-check-circle'" class="fas "></i>
                [[${error != null} ? ${error} : ${success}]]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            <!-- *************** -->

            <!-- The content half -->
            <div class="col-md-6 bg-light">
                <div class="login d-flex align-items-center py-5">

                    <!-- Demo content-->
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-10 col-xl-7 mx-auto">
                                <h2 class="display-4" id="mensaje-Bienvenida-SignUp"></h2>
                                <p th:text="${titulo}" class="text-muted mb-4" id="mensaje-Secundario-SignUp"></p>
                                <form th:action="@{/producto/__${accion}__}" th:object="${producto}" method="POST">

                                    <input th:if="${producto.id} != null" th:field="*{id}" type="hidden"
                                           class="form-control rounded-pill border-0 shadow-sm px-4">

                                    <div class="form-group mb-3">
                                        <input th:field="*{nombre}" type="text" placeholder="Nombre" required="" autofocus=""
                                               class="form-control rounded-pill border-0 shadow-sm px-4">
                                    </div>
                                    <div class="error text-start" th:if="${#fields.hasErrors('nombre')}"
                                         th:errors="*{nombre}"></div>

                                    <select name="marca" id="marca" th:with="marca=*{marca}" class="form-control rounded-pill border-0 shadow-sm px-4" style="width: auto;">
                                        <option th:each="marca : ${marcas}"
                                                th:value="${marca.id}"
                                                th:text="${marca.nombre}"
                                                th:selected="${producto.marca != null} ? ${marca.nombre} == *{marca.nombre} : false">
                                        </option>
                                    </select><br>

                                    <div class="error text-start" th:if="${#fields.hasErrors('marca.nombre')}"
                                         th:errors="*{marca.nombre}"></div>

                                    <div class="form-group mb-3">
                                        <input th:field="*{precio}" step='0.01' id="inputEmail" type="number" placeholder="Precio" required="" autofocus=""
                                               class="form-control rounded-pill border-0 shadow-sm px-4">
                                    </div>
                                    <div class="error text-start" th:if="${#fields.hasErrors('precio')}"
                                         th:errors="*{precio}"></div>

                                    <select name="categoria" id="categoria" class="form-control rounded-pill border-0 shadow-sm px-4" style="width: auto;"  th:with="categoria=*{categoria}" >
                                    <option th:each="categoria : ${T(grupo7.egg.nutrividas.enums.Categoria).values()}"
                                            th:value="${categoria}"
                                            th:text="${categoria.valor}"
                                            th:selected="${producto.categoria!= null} ? ${categoria.valor} == *{categoria.valor} : false">
                                    </option>
                                    </select>

                                    <div class="form-check mt-4" >
                                        <input th:field="*{aptoCeliacos}" name="aptoCeliacos" value="true" class="form-check-input" type="checkbox"  id="flexCheckDefault">
                                        <label class="form-check-label" for="flexCheckDefault">
                                            Apto celíacos
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input th:field="*{aptoDiabeticos}" name="aptoDiabeticos" value="true" class="form-check-input" type="checkbox" id="flexCheckChecked">
                                        <label class="form-check-label" for="flexCheckChecked">
                                            Apto diabéticos
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input th:field="*{aptoHipertensos}" name="aptoHipertensos" value="true" class="form-check-input" type="checkbox" id="flexCheckChecked">
                                        <label class="form-check-label" for="flexCheckChecked">
                                            Apto Hipertensos
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input th:field="*{aptoIntoleranteLactosa}" value="true" class="form-check-input" type="checkbox" id="flexCheckChecked">
                                        <label class="form-check-label" for="flexCheckChecked">
                                            Apto Intoleantes Lactosa
                                        </label>
                                    </div></br>

                                    <button type="submit"
                                            class="btn btn-primary btn-block text-uppercase  rounded-pill shadow-sm mb-2 mt-4"
                                            id="boton-SignIn" th:text="${action == 'guardar'} ? 'Ingresar producto' : 'Guardar cambios'"></button>
                                </form>
                            </div>
                        </div>
                    </div><!-- End -->

                </div>
            </div><!-- End -->

            <!-- The image half -->
            <div class="col-md-6 d-none d-md-flex" th:style="'z-index: 100; background-image:url( '+@{/img/productos.jpg}+' ) !important;background-repeat: no-repeat;
              background-position: center;background-size: cover;'"></div>
        </div>
    </div>
</section>
<!-- ======= Footer ======= -->
<footer id="footer2">
    <div class="copyright2">
        Copyright&copy; 2010-2021 | <strong><span>&nbsp;Nutrividas&nbsp;</span></strong> | Todos los derechos
        reservados
    </div>
</footer><!-- End Footer -->


</body>

</html>